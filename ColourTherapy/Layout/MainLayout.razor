@using Microsoft.AspNetCore.Components
@using ColourTherapy.Services
@using ColourTherapy.Layout
@inherits LayoutComponentBase
@inject TranslationService TranslationService

<div class="page">
    <header>
        <div class="container">
            <h1>@TranslationService.GetTranslation("siteTitle")</h1>
            <p>@TranslationService.GetTranslation("siteTagline")</p>
            <LanguageSelector />
        </div>
    </header>

    <main>
        <div class="container">
            @Body
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; @DateTime.Now.Year - @TranslationService.GetTranslation("siteTitle") - @TranslationService.GetTranslation("footerText")</p>
        </div>
    </footer>

    @* Decorative floating petals animation *@
    @for (int i = 1; i <= 10; i++)
    {
        <div class="floating-petal" style="left: @(Random.Shared.Next(5, 95))%; animation-duration: @(Random.Shared.Next(10, 25))s; animation-delay: @(Random.Shared.Next(0, 10))s;"></div>
    }
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await TranslationService.InitializeAsync();
    }
}
